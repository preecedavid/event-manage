<ul class="nav nav-pills" role="tablist">
  <% rooms.each_with_index do |room, i| %>
    <li class="nav-item">
      <%= link_to room.name, "#room#{i}", class: "nav-link #{'active' if i.zero?}", role: 'tab', aria: { controls: "room#{i}", selected: i.zero? }, data: { toggle: 'tab' } %>
    </li>
  <% end %>
</ul>
<div class="tab-content" id="myTabContent2">
  <% rooms.each_with_index do |room, i| %>
    <div class="tab-pane fade show <%= 'active' if i.zero? %>" id='<%= "room#{i}" %>' role="tabpanel" aria-labelledby="home-tab3">
      <h4>Tokens</h4>
      <div class="table-responsive">
        <table class="table table-striped table-md">
          <thead>
            <tr>
              <th>Name</th>
              <th>Token</th>
              <th>Content</th>
              <th></th>
            </tr>
          </thead>
          <tbody>
            <% room.tokens.each do |token| %>
              <tr>
                <td><%= token.name %></td>
                <td><%= token.token %></td>
                <td><%= token.content %></td>
                <td>
                  <button type="button" class="btn btn-primary btn-sm bind-content-to-token-btn" data-toggle="modal" data-target="#bindContentModal" data-token-id='<%= token.id %>' data-token-title='<%= "#{room.name} - #{token.name}".truncate(45) %>'>
                    Add content
                  </button>
                </td>
              </tr>
            <% end %>
          </tbody>
        </table>
      </div>
    </div>
  <% end %>
</div>
